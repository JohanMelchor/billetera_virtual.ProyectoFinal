<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.collections.FXCollections?>

<VBox spacing="10" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="co.edu.uniquindio.viewcontroller.TransaccionViewController">

    <!-- Título -->
    <Label text="Gestión Completa de Transacciones" style="-fx-font-weight: bold; -fx-font-size: 18;"/>

    <!-- Panel de Configuración -->
    <GridPane hgap="10" vgap="10" style="-fx-padding: 10; -fx-background-color: #f5f5f5; -fx-border-color: #ddd; -fx-border-radius: 5;">
        <columnConstraints>
            <ColumnConstraints prefWidth="150" halignment="RIGHT"/>
            <ColumnConstraints prefWidth="250"/>
            <ColumnConstraints prefWidth="150" halignment="RIGHT"/>
            <ColumnConstraints prefWidth="250"/>
        </columnConstraints>

        <!-- Fila 1: Tipo de Operación -->
        <Label text="Tipo de Operación:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
        <ComboBox fx:id="cbTipoTransaccion" GridPane.rowIndex="0" GridPane.columnIndex="1">
            <items>
                <FXCollections fx:factory="observableArrayList">
                </FXCollections>
            </items>
        </ComboBox>

        <!-- Fila 2: Cuenta Origen/Presupuesto -->
        <Label text="Cuenta Origen:" fx:id="lblCuentaOrigen" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
        <ComboBox fx:id="cbCuentaOrigen" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
        
        <Label text="Presupuesto:" fx:id="lblPresupuesto" GridPane.rowIndex="1" GridPane.columnIndex="2" visible="false"/>
        <ComboBox fx:id="cbPresupuesto" GridPane.rowIndex="1" GridPane.columnIndex="3" visible="false"/>

        <!-- Fila 3: Cuenta Destino -->
        <Label text="Cuenta Destino:" fx:id="lblCuentaDestino" GridPane.rowIndex="2" GridPane.columnIndex="0" visible="false"/>
        <ComboBox fx:id="cbCuentaDestino" GridPane.rowIndex="2" GridPane.columnIndex="1" visible="false"/>

        <!-- Fila 4: Monto y Categoría -->
        <Label text="Monto:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
        <TextField fx:id="txtMonto" GridPane.rowIndex="3" GridPane.columnIndex="1"/>
        
        <Label text="Categoría:" GridPane.rowIndex="3" GridPane.columnIndex="2"/>
        <ComboBox fx:id="cbCategoria" GridPane.rowIndex="3" GridPane.columnIndex="3"/>

        <!-- Fila 5: Descripción -->
        <Label text="Descripción:" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
        <TextArea fx:id="txtDescripcion" wrapText="true" GridPane.rowIndex="4" GridPane.columnIndex="1" 
                 GridPane.columnSpan="3" prefHeight="60"/>
    </GridPane>

    <!-- Botón de Acción -->
    <Button fx:id="btnRealizarTransaccion" text="Realizar Operación" 
            style="-fx-font-weight: bold; -fx-background-color: #4CAF50; -fx-text-fill: white;"
            onAction="#onRealizarTransaccion"/>

    <!-- Historial de Transacciones -->
    <Label text="Historial de Transacciones" style="-fx-font-weight: bold; -fx-font-size: 14;"/>
    <TableView fx:id="tableTransacciones" prefHeight="250">
        <columns>
            <TableColumn fx:id="tcFecha" text="Fecha" prefWidth="120"/>
            <TableColumn fx:id="tcTipo" text="Tipo" prefWidth="120"/>
            <TableColumn fx:id="tcMonto" text="Monto" prefWidth="80"/>
            <TableColumn fx:id="tcDescripcion" text="Descripción" prefWidth="180"/>
            <TableColumn fx:id="tcCuentaOrigen" text="Cuenta Origen" prefWidth="120"/>
            <TableColumn fx:id="tcPresupuesto" text="Presupuesto" prefWidth="120"/>
            <TableColumn fx:id="tcCuentaDestino" text="Cuenta Destino" prefWidth="120"/>
            <TableColumn fx:id="tcCategoria" text="Categoría" prefWidth="100"/>
        </columns>
    </TableView>
</VBox>